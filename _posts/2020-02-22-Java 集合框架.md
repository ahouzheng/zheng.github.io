---
title: Java 集合框架
auther: ahou
layout: post
---

## 常见集合类
**Map接口和Collection接口是所有集合的父接口  
其中Collection接口是List接口和Set接口的父接口**  
Map接口的实现类有: HashMap，Hashtable，LinkedHashMap，TreeMap,ConcurrentHashMap
List接口的实现类有：ArrayList，LinkedList，Stack，Vector
Set接口的实现类有：HashSet，TreeSet，LinkedHashSet


## HashMap和Hashtable的区别
1. 线程安全
2. 是否允许key和value中的null
3. 继承的父类 AbstractMap  Dictionary

## 为何HashMap中String，Integer类型适合作为Key
1. 其中数据的不变性（final修饰），不会出现hash值变化的情况
2. 已经重写了equals方法和hashCode方法，不容易出现hash值错误
如果需要以自己定义的Object作为key，需要重写equals和hashCode方法保证其符合一般原则
1). equals判断相同的对象，hashCode值必须相同
2). equals判断不同的对象，hashCode值不要求必须不同，单位了保证更好的散列效果，期望不同
3). hashCode值相同的对象，不一定有在equals中判断相同


## 集合框架中的默认值
#### HashMap
默认数组容量16，扩容阈值因子0.75，扩容阈值（16*0.75）  
当链表中元素超过8时，链表转化为红黑树  


ArrayList  
LinkedList  

HashMap  
Hashtable  
ConcurrentHashMap  

HashSet  

LinkedHashMap  
LinkedHashSet  

## Fail-Fast和Fail-Safe机制