---
title: web 框架
auther: ahou
layout: post
---

## Nginx

#### Nginx负载均衡
- 根据权重确定随机选中概率
- IP hash，根据IP的Hash值对应到服务器，保证同一个IP总能由同一个服务器提供服务，可以解决session共享问题
- url hash，根据url的Hash值对应到服务器，同一个地址访问总由同一个服务器响应，缓存效率更高

## Dubbo Dubbox

#### Dubbo负载均衡
- Random，根据权重确定随机选中概率
- RoundRobin，轮询
- LeastActive，最少活跃调用，根据活跃时间确定分配，处理需求时间短的服务器，分配更多地调用

#### Dubbo与Spring Cloud 比较
- dubbo 传输远快于springcloud  
- dubbo服务提供方与调用方接口依赖方式太强：我们为每个微服务定义了各自的service抽象接口，并通过持续集成发布到私有仓库中，调用方应用对微服务提供的抽象接口存在强依赖关系
springcloud REST调用方式相比RPC更为轻量化，服务提供方和调用方的依赖只是依靠一纸契约，不存在代码级别的强依赖。